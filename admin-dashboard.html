<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>管理員儀表板 - 罷免志工班表系統</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
  <link href="css/styles.css" rel="stylesheet">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <style>
    /* 管理儀表板的額外樣式 */
    .sidebar {
      min-height: calc(100vh - 56px);
      background-color: #f8f9fa;
      border-right: 1px solid #dee2e6;
    }
    
    .nav-pills .nav-link {
      border-radius: 0;
      padding: 10px 15px;
    }
    
    .nav-pills .nav-link.active {
      background-color: #0d6efd;
    }
    
    .stat-card {
      border-left: 4px solid;
      transition: transform 0.2s;
    }
    
    .stat-card:hover {
      transform: translateY(-5px);
    }
    
    .stat-card.primary {
      border-left-color: #0d6efd;
    }
    
    .stat-card.success {
      border-left-color: #198754;
    }
    
    .stat-card.warning {
      border-left-color: #ffc107;
    }
    
    .stat-card.danger {
      border-left-color: #dc3545;
    }
    
    .table-responsive {
      overflow-x: auto;
    }
    
    .view-container {
      animation: fadeIn 0.3s ease-in-out;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
  </style>
</head>
<body>
  <!-- 導航欄 -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">
        <i class="bi bi-calendar-check"></i>
        <span id="systemName">罷免志工班表系統</span>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link" href="index.html" target="_blank">
              <i class="bi bi-house"></i> 前台首頁
            </a>
          </li>
          <li class="nav-item">
            <span class="nav-link">
              <i class="bi bi-person-circle"></i> <span id="adminName">管理員</span>
            </span>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" id="logoutBtn">
              <i class="bi bi-box-arrow-right"></i> 登出
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- 主要內容 -->
  <div class="container-fluid">
    <div class="row">
      <!-- 側邊欄 -->
      <div class="col-md-3 col-lg-2 d-md-block sidebar collapse">
        <div class="position-sticky pt-3">
          <ul class="nav flex-column nav-pills">
            <li class="nav-item">
              <a class="nav-link active" href="#" data-view="dashboard">
                <i class="bi bi-speedometer2"></i> 儀表板
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" data-view="schedules">
                <i class="bi bi-calendar-week"></i> 班表管理
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" data-view="volunteers">
                <i class="bi bi-people"></i> 志工管理
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" data-view="locations">
                <i class="bi bi-geo-alt"></i> 站點管理
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" data-view="notification">
                <i class="bi bi-bell"></i> 發送通知
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" data-view="reports">
                <i class="bi bi-bar-chart"></i> 統計報表
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" data-view="admins">
                <i class="bi bi-shield-lock"></i> 管理員設定
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" data-view="system">
                <i class="bi bi-gear"></i> 系統設定
              </a>
            </li>
          </ul>
          
          <div class="mt-4 px-3 text-muted">
            <small id="versionInfo">版本: 1.0.0</small>
          </div>
        </div>
      </div>

      <!-- 主內容區 -->
      <div class="col-md-9 col-lg-10 ms-sm-auto px-md-4 py-4">
        <!-- 載入指示器 -->
        <div id="mainLoader" class="text-center p-5">
          <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">載入中...</span>
          </div>
          <p class="mt-2">正在載入資料...</p>
        </div>
        
        <!-- 主要內容容器 -->
        <div id="mainContent" class="d-none">
          <!-- 儀表板視圖 -->
          <div id="dashboardView" class="view-container">
            <h2 class="mb-4">儀表板</h2>
            
            <!-- 統計卡片 -->
            <div class="row">
              <div class="col-md-6 col-xl-3 mb-4">
                <div class="card shadow stat-card primary">
                  <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                      <div>
                        <h6 class="text-muted mb-2">總志工人數</h6>
                        <h4 class="mb-0" id="totalVolunteers">0</h4>
                      </div>
                      <div class="fs-1 text-primary">
                        <i class="bi bi-people"></i>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="col-md-6 col-xl-3 mb-4">
                <div class="card shadow stat-card success">
                  <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                      <div>
                        <h6 class="text-muted mb-2">已簽到志工</h6>
                        <h4 class="mb-0" id="checkedInVolunteers">0</h4>
                      </div>
                      <div class="fs-1 text-success">
                        <i class="bi bi-check-circle"></i>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="col-md-6 col-xl-3 mb-4">
                <div class="card shadow stat-card warning">
                  <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                      <div>
                        <h6 class="text-muted mb-2">總班表數量</h6>
                        <h4 class="mb-0" id="totalSlots">0</h4>
                      </div>
                      <div class="fs-1 text-warning">
                        <i class="bi bi-calendar-check"></i>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="col-md-6 col-xl-3 mb-4">
                <div class="card shadow stat-card danger">
                  <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                      <div>
                        <h6 class="text-muted mb-2">人力不足班表</h6>
                        <h4 class="mb-0" id="urgentSlots">0</h4>
                      </div>
                      <div class="fs-1 text-danger">
                        <i class="bi bi-exclamation-triangle"></i>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- 儀表板主要內容 -->
            <div class="row">
              <!-- 人力不足班表 -->
              <div class="col-md-6 mb-4">
                <div class="card shadow h-100">
                  <div class="card-header bg-light">
                    <h5 class="mb-0">人力不足班表</h5>
                  </div>
                  <div class="card-body">
                    <div id="urgentSlotsList" class="overflow-auto" style="max-height: 300px;">
                      <!-- 人力不足的時段將動態填入這裡 -->
                      <div class="d-flex justify-content-center py-5">
                        <div class="spinner-border text-primary" role="status">
                          <span class="visually-hidden">載入中...</span>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="card-footer bg-white">
                    <a href="#" class="btn btn-sm btn-outline-primary" data-view="schedules">
                      <i class="bi bi-calendar"></i> 查看所有班表
                    </a>
                  </div>
                </div>
              </div>
              
              <!-- 今日班表 -->
              <div class="col-md-6 mb-4">
                <div class="card shadow h-100">
                  <div class="card-header bg-light">
                    <h5 class="mb-0">今日班表</h5>
                  </div>
                  <div class="card-body">
                    <div id="todaySlotsList" class="overflow-auto" style="max-height: 300px;">
                      <!-- 今日的時段將動態填入這裡 -->
                      <div class="d-flex justify-content-center py-5">
                        <div class="spinner-border text-primary" role="status">
                          <span class="visually-hidden">載入中...</span>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="card-footer bg-white">
                    <button class="btn btn-sm btn-outline-success">
                      <i class="bi bi-send"></i> 發送今日提醒
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 班表管理視圖 -->
          <div id="schedulesView" class="view-container d-none">
            <div class="d-flex justify-content-between align-items-center mb-4">
              <h2>班表管理</h2>
              <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addScheduleModal">
                <i class="bi bi-plus-circle"></i> 新增時段
              </button>
            </div>
            
            <!-- 過濾選項 -->
            <div class="card shadow mb-4">
              <div class="card-body">
                <div class="row g-3">
                  <div class="col-md-3">
                    <label for="filterScheduleArea" class="form-label">區域</label>
                    <select class="form-select" id="filterScheduleArea">
                      <option value="">全部區域</option>
                      <option value="南中正">南中正</option>
                      <option value="景美">景美</option>
                      <option value="木柵">木柵</option>
                    </select>
                  </div>
                  <div class="col-md-3">
                    <label for="filterScheduleDate" class="form-label">日期</label>
                    <input type="date" class="form-control" id="filterScheduleDate">
                  </div>
                  <div class="col-md-3">
                    <label for="filterScheduleStatus" class="form-label">人力狀態</label>
                    <select class="form-select" id="filterScheduleStatus">
                      <option value="">全部狀態</option>
                      <option value="充足">充足</option>
                      <option value="不足">不足</option>
                      <option value="極度不足">極度不足</option>
                    </select>
                  </div>
                  <div class="col-md-3 d-flex align-items-end">
                    <button class="btn btn-primary w-100" id="applyScheduleFilter">
                      <i class="bi bi-funnel"></i> 套用過濾
                    </button>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- 班表列表 -->
            <div class="card shadow">
              <div class="card-body">
                <div class="table-responsive">
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th>區域</th>
                        <th>日期</th>
                        <th>時間</th>
                        <th>站點</th>
                        <th>人數</th>
                        <th>狀態</th>
                        <th>操作</th>
                      </tr>
                    </thead>
                    <tbody id="schedulesTableBody">
                      <!-- 班表資料將動態填入這裡 -->
                      <tr>
                        <td colspan="7" class="text-center py-3">
                          <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">載入中...</span>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>

          <!-- 志工管理視圖 -->
          <div id="volunteersView" class="view-container d-none">
            <h2 class="mb-4">志工管理</h2>
            
            <!-- 過濾選項 -->
            <div class="card shadow mb-4">
              <div class="card-body">
                <div class="row g-3">
                  <div class="col-md-3">
                    <label for="filterVolunteerArea" class="form-label">區域</label>
                    <select class="form-select" id="filterVolunteerArea">
                      <option value="">全部區域</option>
                      <option value="南中正">南中正</option>
                      <option value="景美">景美</option>
                      <option value="木柵">木柵</option>
                    </select>
                  </div>
                  <div class="col-md-3">
                    <label for="filterVolunteerDate" class="form-label">日期</label>
                    <input type="date" class="form-control" id="filterVolunteerDate">
                  </div>
                  <div class="col-md-3">
                    <label for="filterVolunteerStatus" class="form-label">出席狀態</label>
                    <select class="form-select" id="filterVolunteerStatus">
                      <option value="">全部狀態</option>
                      <option value="已報名">已報名</option>
                      <option value="已出席">已出席</option>
                      <option value="未簽到">未簽到</option>
                    </select>
                  </div>
                  <div class="col-md-3 d-flex align-items-end">
                    <div class="input-group">
                      <input type="text" class="form-control" id="searchVolunteer" placeholder="姓名/ID 搜尋">
                      <button class="btn btn-primary" id="applyVolunteerFilter">
                        <i class="bi bi-search"></i>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- 志工列表 -->
            <div class="card shadow">
              <div class="card-body">
                <div class="table-responsive">
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th>姓名</th>
                        <th>聯絡方式</th>
                        <th>區域</th>
                        <th>日期</th>
                        <th>站點</th>
                        <th>狀態</th>
                        <th>操作</th>
                      </tr>
                    </thead>
                    <tbody id="volunteersTableBody">
                      <!-- 志工資料將動態填入這裡 -->
                      <tr>
                        <td colspan="7" class="text-center py-3">
                          <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">載入中...</span>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>

          <!-- 站點管理視圖 -->
          <div id="locationsView" class="view-container d-none">
            <div class="d-flex justify-content-between align-items-center mb-4">
              <h2>站點管理</h2>
              <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addLocationModal">
                <i class="bi bi-plus-circle"></i> 新增站點
              </button>
            </div>
            
            <!-- 站點列表 -->
            <div class="card shadow">
              <div class="card-body">
                <div class="table-responsive">
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th>站點名稱</th>
                        <th>區域</th>
                        <th>地址</th>
                        <th>建議人數</th>
                        <th>操作</th>
                      </tr>
                    </thead>
                    <tbody id="locationsTableBody">
                      <!-- 站點資料將動態填入這裡 -->
                      <tr>
                        <td colspan="5" class="text-center py-3">
                          <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">載入中...</span>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>

          <!-- 通知系統視圖 -->
          <div id="notificationView" class="view-container d-none">
            <h2 class="mb-4">發送通知</h2>
            
            <div class="row">
              <div class="col-md-6">
                <!-- 發送通知表單 -->
                <div class="card shadow mb-4">
                  <div class="card-header bg-light">
                    <h5 class="mb-0">發送通知</h5>
                  </div>
                  <div class="card-body">
                    <form id="notificationForm">
                      <div class="mb-3">
                        <label for="notificationType" class="form-label">通知類型</label>
                        <select class="form-select" id="notificationType" required>
                          <option value="">選擇類型</option>
                          <option value="緊急需求">緊急需求</option>
                          <option value="提醒通知">提醒通知</option>
                          <option value="行程變更">行程變更</option>
                          <option value="一般訊息">一般訊息</option>
                        </select>
                      </div>
                      
                      <div class="mb-3">
                        <label for="notificationAreaSelect" class="form-label">目標區域</label>
                        <select class="form-select" id="notificationAreaSelect">
                          <option value="">選擇區域</option>
                          <!-- 將動態填入區域選項 -->
                        </select>
                      </div>
                      
                      <div class="mb-3">
                        <label for="notificationTimeSlotSelect" class="form-label">目標時段</label>
                        <select class="form-select" id="notificationTimeSlotSelect" disabled>
                          <option value="">請先選擇區域</option>
                          <!-- 將動態填入時段選項 -->
                        </select>
                      </div>
                      
                      <div class="mb-3">
                        <label for="notificationContent" class="form-label">通知內容</label>
                        <textarea class="form-control" id="notificationContent" rows="4" required></textarea>
                      </div>
                      
                      <div id="notificationResult" class="alert d-none"></div>
                      
                      <div class="d-grid">
                        <button type="button" class="btn btn-primary" id="sendNotificationBtn">
                          <i class="bi bi-send"></i> 發送通知
                        </button>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
              
              <div class="col-md-6">
                <!-- 通知範本 -->
                <div class="card shadow mb-4">
                  <div class="card-header bg-light">
                    <h5 class="mb-0">常用範本</h5>
                  </div>
                  <div class="card-body">
                    <div class="list-group">
                      <button type="button" class="list-group-item list-group-item-action" onclick="useTemplate('緊急需求')">
                        <div class="d-flex w-100 justify-content-between">
                          <h6 class="mb-1">緊急徵求志工</h6>
                          <small class="text-danger">緊急需求</small>
                        </div>
                        <p class="mb-1">親愛的志工，{區域}{站點}目前人力不足，急需支援！時間：{日期} {時間}。如果您有空，請點選連結報名...</p>
                      </button>
                      
                      <button type="button" class="list-group-item list-group-item-action" onclick="useTemplate('提醒通知')">
                        <div class="d-flex w-100 justify-content-between">
                          <h6 class="mb-1">明日出勤提醒</h6>
                          <small class="text-primary">提醒通知</small>
                        </div>
                        <p class="mb-1">親愛的志工，提醒您明日({日期})有班表：{時間} {站點}。請準時出席並留意天氣狀況...</p>
                      </button>
                      
                      <button type="button" class="list-group-item list-group-item-action" onclick="useTemplate('行程變更')">
                        <div class="d-flex w-100 justify-content-between">
                          <h6 class="mb-1">時段變更通知</h6>
                          <small class="text-warning">行程變更</small>
                        </div>
                        <p class="mb-1">親愛的志工，因應狀況變化，原定於{日期} {時間}的{站點}班表有所調整，請查看最新資訊...</p>
                      </button>
                    </div>
                  </div>
                </div>
                
                <!-- 通知紀錄 -->
                <div class="card shadow">
                  <div class="card-header bg-light">
                    <h5 class="mb-0">最近發送紀錄</h5>
                  </div>
                  <div class="card-body">
                    <ul class="list-group">
                      <li class="list-group-item">
                        <div class="d-flex w-100 justify-content-between">
                          <h6 class="mb-1">緊急需求通知</h6>
                          <small>今天 08:30</small>
                        </div>
                        <p class="mb-1">已發送給 5 位志工</p>
                        <small class="text-muted">南中正區 捷運東門站</small>
                      </li>
                      <li class="list-group-item">
                        <div class="d-flex w-100 justify-content-between">
                          <h6 class="mb-1">提醒通知</h6>
                          <small>昨天 20:00</small>
                        </div>
                        <p class="mb-1">已發送給 12 位志工</p>
                        <small class="text-muted">木柵區 全區域</small>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 統計報表視圖 -->
          <div id="reportsView" class="view-container d-none">
            <h2 class="mb-4">統計報表</h2>
            
            <!-- 報表生成工具 -->
            <div class="card shadow mb-4">
              <div class="card-header bg-light">
                <h5 class="mb-0">生成報表</h5>
              </div>
              <div class="card-body">
                <div class="row g-3">
                  <div class="col-md-3">
                    <label for="reportType" class="form-label">報表類型</label>
                    <select class="form-select" id="reportType" required>
                      <option value="">選擇報表類型</option>
                      <option value="volunteer-hours">志工時數統計</option>
                      <option value="attendance-rate">出席率統計</option>
                      <option value="location-popularity">站點熱門度分析</option>
                      <option value="time-distribution">時段分佈圖</option>
                    </select>
                  </div>
                  <div class="col-md-3">
                    <label for="reportStartDate" class="form-label">開始日期</label>
                    <input type="date" class="form-control" id="reportStartDate" required>
                  </div>
                  <div class="col-md-3">
                    <label for="reportEndDate" class="form-label">結束日期</label>
                    <input type="date" class="form-control" id="reportEndDate" required>
                  </div>
                  <div class="col-md-3 d-flex align-items-end">
                    <button class="btn btn-primary w-100" id="generateReportBtn">
                      <i class="bi bi-file-earmark-bar-graph"></i> 生成報表
                    </button>
                  </div>
                </div>
                <div id="reportResult" class="alert d-none mt-3"></div>
              </div>
            </div>
            
            <!-- 報表顯示區域 -->
            <div id="reportContainer" class="d-none">
              <!-- 報表內容將動態填入這裡 -->
            </div>
          </div>

          <!-- 管理員設定視圖 -->
          <div id="adminsView" class="view-container d-none">
            <div class="d-flex justify-content-between align-items-center mb-4">
              <h2>管理員設定</h2>
              <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addAdminModal">
                <i class="bi bi-person-plus"></i> 新增管理員
              </button>
            </div>
            
            <!-- 管理員列表 -->
            <div class="card shadow">
              <div class="card-body">
                <div class="table-responsive">
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th>姓名</th>
                        <th>角色</th>
                        <th>管理區域</th>
                        <th>狀態</th>
                        <th>操作</th>
                      </tr>
                    </thead>
                    <tbody id="adminsTableBody">
                      <!-- 管理員資料將動態填入這裡 -->
                      <tr>
                        <td colspan="5" class="text-center py-3">
                          <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">載入中...</span>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>

          <!-- 系統設定視圖 -->
          <div id="systemView" class="view-container d-none">
            <h2 class="mb-4">系統設定</h2>
            
            <div class="row">
              <div class="col-md-6">
                <!-- 基本設定 -->
                <div class="card shadow mb-4">
                  <div class="card-header bg-light">
                    <h5 class="mb-0">基本設定</h5>
                  </div>
                  <div class="card-body">
                    <form id="systemSettingsForm">
                      <div class="mb-3">
                        <label for="systemName" class="form-label">系統名稱</label>
                        <input type="text" class="form-control" id="systemName" value="罷免志工班表系統" required>
                      </div>
                      
                      <div class="mb-3">
                        <label for="versionNumber" class="form-label">版本編號</label>
                        <input type="text" class="form-control" id="versionNumber" value="1.0.0" required>
                      </div>
                      
                      <div class="mb-3">
                        <label for="organizationName" class="form-label">組織名稱</label>
                        <input type="text" class="form-control" id="organizationName" value="罷免行動小組">
                      </div>
                      
                      <div class="mb-3">
                        <label for="contactEmail" class="form-label">聯絡信箱</label>
                        <input type="email" class="form-control" id="contactEmail" value="volunteer@example.org">
                      </div>
                      
                      <div id="settingsResult" class="alert d-none"></div>
                      
                      <div class="d-grid">
                        <button type="button" class="btn btn-primary" id="saveSettingsBtn">
                          <i class="bi bi-save"></i> 儲存設定
                        </button>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
              
              <div class="col-md-6">
                <!-- 系統維護 -->
                <div class="card shadow mb-4">
                  <div class="card-header bg-light">
                    <h5 class="mb-0">系統維護</h5>
                  </div>
                  <div class="card-body">
                    <div class="d-grid gap-2">
                      <button class="btn btn-outline-primary">
                        <i class="bi bi-download"></i> 匯出資料備份
                      </button>
                      <button class="btn btn-outline-success">
                        <i class="bi bi-upload"></i> 匯入資料
                      </button>
                      <button class="btn btn-outline-warning">
                        <i class="bi bi-arrow-clockwise"></i> 重整系統快取
                      </button>
                      <button class="btn btn-outline-danger">
                        <i class="bi bi-trash"></i> 清除過期資料
                      </button>
                    </div>
                  </div>
                </div>
                
                <!-- 系統資訊 -->
                <div class="card shadow">
                  <div class="card-header bg-light">
                    <h5 class="mb-0">系統資訊</h5>
                  </div>
                  <div class="card-body">
                    <ul class="list-group list-group-flush">
                      <li class="list-group-item d-flex justify-content-between align-items-center">
                        API 伺服器
                        <span class="badge bg-success rounded-pill">線上</span>
                      </li>
                      <li class="list-group-item d-flex justify-content-between align-items-center">
                        資料庫狀態
                        <span class="badge bg-success rounded-pill">正常</span>
                      </li>
                      <li class="list-group-item d-flex justify-content-between align-items-center">
                        上次備份
                        <span>2025-05-15 08:30</span>
                      </li>
                      <li class="list-group-item d-flex justify-content-between align-items-center">
                        資料筆數
                        <span>志工: 125 | 班表: 35 | 站點: 12</span>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 新增時段 Modal -->
  <div class="modal fade" id="addScheduleModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">新增時段</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="addScheduleForm">
            <div class="mb-3">
              <label for="newScheduleArea" class="form-label">區域</label>
              <select class="form-select" id="newScheduleArea" required>
                <option value="">選擇區域</option>
                <option value="南中正">南中正</option>
                <option value="景美">景美</option>
                <option value="木柵">木柵</option>
              </select>
            </div>
            
            <div class="mb-3">
              <label for="newScheduleDate" class="form-label">日期</label>
              <input type="date" class="form-control" id="newScheduleDate" required>
            </div>
            
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="newScheduleStartTime" class="form-label">開始時間</label>
                <input type="time" class="form-control" id="newScheduleStartTime" required>
              </div>
              <div class="col-md-6 mb-3">
                <label for="newScheduleEndTime" class="form-label">結束時間</label>
                <input type="time" class="form-control" id="newScheduleEndTime" required>
              </div>
            </div>
            
            <div class="mb-3">
              <label for="newScheduleLocation" class="form-label">站點</label>
              <select class="form-select" id="newScheduleLocation" required>
                <option value="">請先選擇區域</option>
              </select>
            </div>
            
            <div class="mb-3">
              <label for="newScheduleRequiredCount" class="form-label">所需人數</label>
              <input type="number" class="form-control" id="newScheduleRequiredCount" min="1" required>
            </div>
            
            <div class="mb-3">
              <label for="newScheduleNotes" class="form-label">備註</label>
              <textarea class="form-control" id="newScheduleNotes" rows="2"></textarea>
            </div>
            
            <div id="newScheduleResult" class="alert d-none"></div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
          <button type="submit" form="addScheduleForm" class="btn btn-primary">新增時段</button>
        </div>
      </div>
    </div>
  </div>

  <!-- 新增站點 Modal -->
  <div class="modal fade" id="addLocationModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">新增站點</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="addLocationForm">
            <div class="mb-3">
              <label for="newLocationName" class="form-label">站點名稱</label>
              <input type="text" class="form-control" id="newLocationName" required>
            </div>
            
            <div class="mb-3">
              <label for="newLocationArea" class="form-label">區域</label>
              <select class="form-select" id="newLocationArea" required>
                <option value="">選擇區域</option>
                <option value="南中正">南中正</option>
                <option value="景美">景美</option>
                <option value="木柵">木柵</option>
              </select>
            </div>
            
            <div class="mb-3">
              <label for="newLocationAddress" class="form-label">地址</label>
              <input type="text" class="form-control" id="newLocationAddress" required>
            </div>
            
            <div class="mb-3">
              <label for="newLocationMapLink" class="form-label">地圖連結</label>
              <input type="url" class="form-control" id="newLocationMapLink" placeholder="https://maps.google.com/...">
            </div>
            
            <div class="mb-3">
              <label for="newLocationSuggestedCount" class="form-label">建議人數</label>
              <input type="number" class="form-control" id="newLocationSuggestedCount" min="1" value="2" required>
            </div>
            
            <div id="newLocationResult" class="alert d-none"></div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
          <button type="submit" form="addLocationForm" class="btn btn-primary">新增站點</button>
        </div>
      </div>
    </div>
  </div>

  <!-- 新增管理員 Modal -->
  <div class="modal fade" id="addAdminModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">新增管理員</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="addAdminForm">
            <div class="mb-3">
              <label for="newAdminName" class="form-label">管理員姓名</label>
              <input type="text" class="form-control" id="newAdminName" required>
            </div>
            
            <div class="mb-3">
              <label for="newAdminRole" class="form-label">角色</label>
              <select class="form-select" id="newAdminRole" required>
                <option value="">選擇角色</option>
                <option value="總管理員">總管理員</option>
                <option value="區域組長">區域組長</option>
                <option value="副組長">副組長</option>
              </select>
            </div>
            
            <div class="mb-3">
              <label for="newAdminArea" class="form-label">管理區域</label>
              <select class="form-select" id="newAdminArea" required>
                <option value="">選擇區域</option>
                <option value="全區域">全區域</option>
                <option value="南中正">南中正</option>
                <option value="景美">景美</option>
                <option value="木柵">木柵</option>
              </select>
            </div>
            
            <div class="alert alert-info">
              <small>新增後系統將自動產生管理員 ID，請記錄並提供給管理員。</small>
            </div>
            
            <div id="newAdminResult" class="alert d-none"></div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
          <button type="submit" form="addAdminForm" class="btn btn-primary">新增管理員</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap & 相關 JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="js/config.js"></script>
  <script src="js/admin.js"></script>
</body>
</html>
